{% extends "layout.html" %}
{% block content %}

<body>

<div class="page">
    <div class="panel">
        <div class="title">
            <h1>Meetup information</h1>
            {% if error %}
            <p class=error><strong>Error:</strong> {{ error }}
            {% endif %}

            <button onclick = "RSVPmeetup()" class="button" style="width:180px; background-size:180px 30px; border:none;">Attend this event</button>
            <button onclick = "unmeetup()" class="button" style="width:200px; background-size:200px 30px; border:none;">Do not attend this event</button>

            <form method="post" action="">
                <label></label><br>
                <label>uid : {{uid }}</label><br>
                <label>Attending: {{attending}}</label><br>
                <label>Meetup ID: {{ meetid }}</label><br>

                <label>Subject: {{ subject }}</label><br>

                <label>Start Time: {{ starttime }}</label><br>

                <label>End Time: {{ endtime }}</label><br>

                <label>Coordinator: {{ coordinator }}</label><br>

                <!-- jesus christ what kind of awful hackjob wtf is this you should be ashamed -->
                <!-- screw html5 just use frameborder none of the equivalent options are supported by all browsers anyway-->
                <!-- TODO: negative values for lat/long should be ok but they arent-->
                <center><iframe height="500px" width="500px" frameborder="0" src="{{mapurl}}">Your browser is not compatible with this page.</iframe></center>
            </form>

        </div>
    </div>
</div>

<script>
    function RSVPmeetup() {
        $.getJSON("http://localhost:5000/doRSVPJSON", {
      uid: {{uid}},
      eid: {{meetid}}
       }, function(data) {alert("Hello!");});
       return false;}

       function unmeetup() {
        $.getJSON("http://localhost:5000/unRSVP", {
      uid: {{uid}},
      eid: {{meetid}}
       }, function(data) {alert("Hello!");});
       return false;}
</script>

{% endblock %}
